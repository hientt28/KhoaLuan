{"version":3,"sources":["/resources/assets/js/all.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":[" \r\nvar roomBuilder = (function () {\r\n    var room = new appBuilder();\r\n\r\n    return {\r\n        tooltip: function () {\r\n            var configs = [\r\n                {\r\n                    element: $('.add-course'),\r\n                    position: 'top center',\r\n                    content: 'Add New Room'\r\n                },\r\n                {\r\n                    element: $('.del-course-multi'),\r\n                    position: 'top center',\r\n                    content: 'Delete Room Selected'\r\n                },\r\n                {\r\n                    element: $('.btn-excel'),\r\n                    position: 'top center',\r\n                    content: 'Export Excel'\r\n                },\r\n                {\r\n                    element: $('.btn-csv'),\r\n                    position: 'top center',\r\n                    content: 'Export CSV'\r\n                },\r\n            ];\r\n            room.tooltip(configs);\r\n        },\r\n        animate: function () {\r\n            room.animate([{\r\n                animate: $('.body-content'),\r\n                animateName: 'shake'\r\n            }]);\r\n        },\r\n        bindEvent: function () {\r\n            $('form[id=\"delRoute\"]').submit(function (e) {\r\n                e.preventDefault();\r\n            });\r\n            var input_all = $('input[name=\"select-all\"]');\r\n            input_all.change(function () {\r\n                var check = input_all.prop('checked');\r\n                var all_input = $('input[type=\"checkbox\"]');\r\n                if (check) {\r\n                    all_input.prop('checked', true);\r\n                } else {\r\n                    all_input.prop('checked', false);\r\n                }\r\n            });\r\n\r\n            $('.btn-confirm').click(function () {\r\n                var selected = localStorage.getItem('selected');\r\n                var courses = localStorage.getItem('courseList');\r\n                courses = JSON.parse(courses);\r\n                var input = $('input[name=\"select-all\"]');\r\n                var checkboxs = $('input[type=\"checkbox\"]');\r\n                if (input.prop('checked') && checkboxs.length > 1) {\r\n                    var courses = [];\r\n                    for (var i = 0; i < checkboxs.length; i++) {\r\n                        var element = $(checkboxs[i]);\r\n                        if (element.attr('name') !== 'select-all') {\r\n                            courses.push(element.val());\r\n                        }\r\n                    }\r\n                }\r\n                if (!room.utils.isset(selected) && courses !== undefined) {\r\n                    $.ajax({\r\n                        url: 'destroySelected',\r\n                        data: {\r\n                            ids: courses\r\n                        },\r\n                        type: 'POST',\r\n                        beforeSend: function () {\r\n                            $('#confirmModal').modal('hide');\r\n                            room.utils.loading('show');\r\n                        }\r\n                    }).done(function (res) {\r\n                        setTimeout(function () {\r\n                            for (var c in courses) {\r\n                                $('tr.row-' + parseInt(courses[c])).addClass('hide');\r\n                            }\r\n                            localStorage.clear();\r\n                            room.utils.loading('hide');\r\n                            $('.result-msg').show(1000);\r\n                            $('.result-msg-content').text('Delete Courses Success!');\r\n                            setTimeout(function () {\r\n                                $('.result-msg').hide(1000);\r\n                            }, 2000);\r\n                        }, 400)\r\n                    });\r\n                } else {\r\n                    var formName = 'delRoute' + selected;\r\n                    var _form = $('form[name=\"' + formName + '\"]');\r\n                    _form.unbind('submit');\r\n                    _form.submit();\r\n                }\r\n            });\r\n\r\n            $('.del-course').click(function () {\r\n                $('#confirmModal').modal('show');\r\n            });\r\n\r\n            $('.prompt').change(function () {\r\n                room.utils.loading('show');\r\n                $('input[name=\"term\"]').val($('.prompt').val());\r\n                setTimeout(function () {\r\n                    $('form[name=\"search\"]').submit();\r\n                }, 500);\r\n            });\r\n\r\n            $('#confirmModal').on('hidden.bs.modal', function () {\r\n                $('.modal-body').text('Are you sure?');\r\n                localStorage.removeItem('selected');\r\n                $('.btn-confirm').prop('disabled', false);\r\n            });\r\n\r\n            $('.del-course-multi').click(function () {\r\n                var courses = localStorage.getItem('courseList');\r\n                var checkall = $('input[name=\"select-all\"]').prop('checked');\r\n                if ((_.isUndefined(courses) || _.isNull(courses)) && !checkall) {\r\n                    $('.modal-body').text('Please select room before delete!');\r\n                    $('.btn-confirm').prop('disabled', true);\r\n                    $('#confirmModal').modal('show');\r\n                    return;\r\n                } else {\r\n                    $('#confirmModal').modal('show');\r\n                }\r\n            });\r\n\r\n            $('.dropdown-entry').change(function () {\r\n                room.utils.loading('show');\r\n                $('input[name=\"entry\"]').val($('.dropdown-entry').val());\r\n                $('form[name=\"show-entry\"]').submit();\r\n            });\r\n\r\n            $('input[name=\"elementAll\"]').click(function () {\r\n                var check = $('input[name=\"elementAll\"]').prop('checked');\r\n                var input = $('input[type=\"checkbox\"]');\r\n                var data = [];\r\n                for (var i = 0; i < input.length; i++) {\r\n                    if (input[i].hasAttribute('element')) {\r\n                        data.push($(input[i]).val());\r\n                    }\r\n                }\r\n                if (check) {\r\n                    $(input).prop('checked', true);\r\n                    $('input[name=\"subjectData\"]').val(data);\r\n                } else {\r\n                    $(input).prop('checked', false);\r\n                    $('input[name=\"subjectData\"]').val('');\r\n                }\r\n            })\r\n\r\n            $('form[name=\"CI\"]').submit(function (e) {\r\n                e.preventDefault();\r\n            })\r\n\r\n            $('.btn-ci').click(function () {\r\n                $('form[name=\"CI\"]').unbind('submit');\r\n                room.utils.validate({\r\n                    form: $('form[name=\"CI\"]'), rules: [\r\n                        {\r\n                            id: 'name',\r\n                            text: 'Please enter course name'\r\n                        },\r\n                        {\r\n                            id: 'description',\r\n                            text: 'Please enter course description'\r\n                        }\r\n                    ]\r\n                });\r\n                var input = $('input[type=\"checkbox\"]');\r\n                var data = [];\r\n                for (var i = 0; i < input.length; i++) {\r\n                    var isCheck = $(input[i]).prop('checked');\r\n                    if (isCheck && input[i].hasAttribute('element')) {\r\n                        data.push($(input[i]).val());\r\n                    }\r\n                }\r\n                $('input[name=\"subjectData\"]').val(data);\r\n                $('form[name=\"CI\"]').submit();\r\n            });\r\n\r\n            (function () {\r\n                var input = $('input[type=\"checkbox\"]');\r\n                for (var i = 0; i < input.length; i++) {\r\n                    if (input[i].hasAttribute('element')) {\r\n                        var _input = $(input[i]);\r\n                        if (_input.attr('belongCourse') == \"true\") {\r\n                            _input.prop('checked', true);\r\n                        } else continue;\r\n                    }\r\n                }\r\n            }());\r\n        },\r\n        saveSelect: function (id) {\r\n            localStorage.setItem('selected', id);\r\n        },\r\n        saveStorage: function (id) {\r\n            var checked = $('input[name=\"radio-' + id + '\"]').prop('checked');\r\n            var list = localStorage.getItem('courseList');\r\n            list = _.isUndefined(list) || _.isNull(list) ? null : JSON.parse(list);\r\n            if (_.isArray(list) && !_.isEmpty(list)) {\r\n                var find = _.find(list, function (element) {\r\n                    return id === element;\r\n                });\r\n                if (find === undefined) {\r\n                    if (checked) {\r\n                        list.push(id);\r\n                    }\r\n                    localStorage.setItem('courseList', JSON.stringify(list));\r\n                } else {\r\n                    if (!checked) {\r\n                        var index = _.indexOf(list, \"\" + id);\r\n                        list.splice(index, 1);\r\n                        localStorage.setItem('courseList', JSON.stringify(list));\r\n                    }\r\n                }\r\n            } else {\r\n                if (checked) {\r\n                    localStorage.setItem('courseList', JSON.stringify([id]));\r\n                }\r\n            }\r\n        },\r\n        utils: function () {\r\n            return room.utils;\r\n        },\r\n        build: function () {\r\n            localStorage.clear();\r\n            this.tooltip();\r\n            this.animate();\r\n            this.bindEvent();\r\n        }\r\n    }\r\n\r\n}(appBuilder))\r\n \r\n $(document).ready(function () {\r\n    $('.filterable .btn-filter').click(function() {\r\n\r\n        var $panel = $(this).parents('.filterable'),\r\n            $filters = $panel.find('.filters input'),\r\n            $tbody = $panel.find('.table tbody');\r\n\r\n        if ($filters.prop('disabled')) {\r\n            $filters.prop('disabled', false);\r\n            $filters.first().focus();\r\n        } else {\r\n            $filters.val('').prop('disabled', true);\r\n            $tbody.find('.no-result').remove();\r\n            $tbody.find('tr').show();\r\n        }\r\n    });\r\n\r\n    $('.filterable .filters input').keyup(function(e) {\r\n\r\n        var code = e.keyCode || e.which;\r\n        if (code == '9') return;\r\n\r\n        var $input = $(this),\r\n            inputContent = $input.val().toLowerCase(),\r\n            $panel = $input.parents('.filterable'),\r\n            column = $panel.find('.filters th').index($input.parents('th')),\r\n            $table = $panel.find('.table'),\r\n            $rows = $table.find('tbody tr');\r\n\r\n        var $filteredRows = $rows.filter(function() {\r\n            var value = $(this).find('td').eq(column).text().toLowerCase();\r\n            return value.indexOf(inputContent) === -1;\r\n        });\r\n\r\n        $table.find('tbody .no-result').remove();\r\n\r\n        $rows.show();\r\n        $filteredRows.hide();\r\n\r\n        if ($filteredRows.length === $rows.length) {\r\n            $table.find('tbody').prepend($('<tr class=\"no-result text-center\"><td colspan=\"' +  $table.find('.filters th').length + '\">No result found</td></tr>'));\r\n        }\r\n    });\r\n\r\n    $(\"#myTable #checkall\").click(function () {\r\n        if ($(\"#myTable #checkall\").is(':checked')) {\r\n            $(\"#myTable input[type=checkbox]\").each(function () {\r\n                $(this).prop(\"checked\", true);\r\n            });\r\n        } else {\r\n            $(\"#myTable input[type=checkbox]\").each(function () {\r\n                $(this).prop(\"checked\", false);\r\n            });\r\n        }\r\n    });\r\n\r\n    $(\"[data-toggle=tooltip]\").tooltip();\r\n    roomBuilder.build();\r\n});\r\n\r\n"]}